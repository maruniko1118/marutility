<h2>電卓</h2>
<style>
    /* 白黒ベース */
    .calc-wrapper { max-width: 320px; margin: 0 auto; background: #fff; padding: 20px; border: 1px solid #ddd; border-radius: 12px; }
    .calc-display { background: #f9f9f9; padding: 20px; text-align: right; font-size: 2.5rem; border-radius: 8px; margin-bottom: 15px; font-family: monospace; color: #333; }
    .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
    
    .calc-btn { 
        padding: 20px 0; font-size: 1.2rem; border: none; border-radius: 8px; 
        background: #f0f0f0; color: #333; cursor: pointer; transition: 0.1s; 
    }
    .calc-btn:hover { background: #e0e0e0; }
    
    /* 演算子は赤系 */
    .calc-btn.op { background: #b3261e; color: white; }
    .calc-btn.op:hover { background: #901e18; }
    
    /* クリアは濃いグレーまたは黒 */
    .calc-btn.clear { background: #444; color: white; }
    .calc-btn.clear:hover { background: #222; }
</style>

<div class="calc-wrapper">
    <div class="calc-display" id="calc-display">0</div>
    <div class="calc-grid">
        <button class="calc-btn clear" onclick="calcApp.clear()">C</button>
        <button class="calc-btn op" onclick="calcApp.setOp('/')">÷</button>
        <button class="calc-btn op" onclick="calcApp.setOp('*')">×</button>
        <button class="calc-btn op" onclick="calcApp.setOp('-')">-</button>

        <button class="calc-btn" onclick="calcApp.append('7')">7</button>
        <button class="calc-btn" onclick="calcApp.append('8')">8</button>
        <button class="calc-btn" onclick="calcApp.append('9')">9</button>
        <button class="calc-btn op" onclick="calcApp.setOp('+')">+</button>
        
        <button class="calc-btn" onclick="calcApp.append('4')">4</button>
        <button class="calc-btn" onclick="calcApp.append('5')">5</button>
        <button class="calc-btn" onclick="calcApp.append('6')">6</button>
        <button class="calc-btn op" onclick="calcApp.calc()" style="grid-row: span 2;">=</button>

        <button class="calc-btn" onclick="calcApp.append('1')">1</button>
        <button class="calc-btn" onclick="calcApp.append('2')">2</button>
        <button class="calc-btn" onclick="calcApp.append('3')">3</button>
        
        <button class="calc-btn" onclick="calcApp.append('0')" style="grid-column: span 2;">0</button>
        <button class="calc-btn" onclick="calcApp.append('.')">.</button>
    </div>
</div>

<script>
    var calcApp = {
        current: '', prev: '', op: null,
        append: function(n) { this.current += n; this.update(); },
        setOp: function(op) { if (this.current === '') return; if (this.prev !== '') this.calc(); this.op = op; this.prev = this.current; this.current = ''; },
        calc: function() {
            const p = parseFloat(this.prev); const c = parseFloat(this.current);
            if (isNaN(p) || isNaN(c)) return;
            switch(this.op) { case '+': this.current = String(p + c); break; case '-': this.current = String(p - c); break; case '*': this.current = String(p * c); break; case '/': this.current = String(p / c); break; }
            this.op = null; this.prev = ''; this.update();
        },
        clear: function() { this.current = ''; this.prev = ''; this.op = null; this.update(); },
        update: function() { const d = document.getElementById('calc-display'); if(d) d.innerText = this.current || '0'; }
    };
</script>